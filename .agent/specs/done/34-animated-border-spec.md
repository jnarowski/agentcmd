# Animated Border Beam for Auth Pages

**Status**: draft
**Created**: 2025-10-31
**Package**: @repo/web
**Estimated Effort**: 1-2 hours

## Overview

Add Magic UI's Border Beam component to the login and signup pages to create an animated light beam effect that travels along the border of the authentication cards. This enhances the visual polish of the auth experience with a modern, eye-catching effect commonly used in SaaS applications.

## User Story

As a user visiting the login or signup page
I want to see a visually polished and modern interface
So that I feel confident in the application's quality and professionalism

## Technical Approach

Install the Border Beam component from Magic UI using the shadcn CLI, then integrate it into the shared `AuthFormCard` component. The Border Beam will wrap the existing Card component, adding a relative positioned container with overflow hidden to enable the animated border effect. This approach ensures consistent application across both login and signup pages with minimal code changes.

## Key Design Decisions

1. **Shared Component Integration**: Add Border Beam to `AuthFormCard` rather than individual pages to ensure consistency and DRY principles
2. **Magic UI via shadcn CLI**: Use the official installation method for seamless integration with existing shadcn/ui setup
3. **Default Animation Settings**: Use Border Beam's default props initially, allowing for future customization if needed
4. **Relative Positioning**: Add a wrapper div with `relative` and `overflow-hidden` classes to properly contain the border animation

## Architecture

### File Structure
```
apps/web/src/client/
├── components/
│   └── ui/
│       ├── card.tsx                    (existing)
│       └── border-beam.tsx             (new - installed via CLI)
└── pages/
    └── auth/
        └── components/
            └── AuthFormCard.tsx        (modified)
```

### Integration Points

**UI Components**:
- `apps/web/src/client/components/ui/border-beam.tsx` - New component installed via Magic UI
- `apps/web/src/client/pages/auth/components/AuthFormCard.tsx` - Import and wrap Card with Border Beam

**Auth Pages** (no changes required):
- `apps/web/src/client/pages/auth/Login.tsx` - Automatically inherits Border Beam via AuthFormCard
- `apps/web/src/client/pages/auth/Signup.tsx` - Automatically inherits Border Beam via AuthFormCard

## Implementation Details

### 1. Border Beam Component Installation

Install the Border Beam component using the Magic UI CLI via shadcn. This will automatically create the component file in the correct location with all necessary dependencies and animations configured.

**Key Points**:
- Component will be placed in `apps/web/src/client/components/ui/border-beam.tsx`
- Uses Motion (Framer Motion) for animations (already in package.json dependencies)
- Compatible with existing Tailwind CSS v4 setup
- Follows shadcn/ui conventions for component structure

### 2. AuthFormCard Component Integration

Update the shared `AuthFormCard` component to wrap the existing Card with Border Beam. Add a relative positioned container to properly scope the border animation effect.

**Key Points**:
- Import Border Beam from `@/client/components/ui/border-beam`
- Wrap the Card component in a `div` with `relative` and `overflow-hidden` classes
- Add Border Beam as a child within the wrapper, before the Card
- Preserve all existing props and children
- No changes to component API or existing usage

### 3. Visual Effect Behavior

The Border Beam creates an animated gradient beam that travels along the perimeter of its container. The animation is continuous and loops infinitely.

**Key Points**:
- Beam appears as a gradient light effect on the card border
- Animation is smooth and performant (GPU-accelerated via Motion)
- No impact on form functionality or accessibility
- Works seamlessly with existing card shadow and border styles

## Files to Create/Modify

### New Files (1)

1. `apps/web/src/client/components/ui/border-beam.tsx` - Border Beam component (auto-generated by CLI)

### Modified Files (1)

1. `apps/web/src/client/pages/auth/components/AuthFormCard.tsx` - Add Border Beam wrapper and import

## Step by Step Tasks

**IMPORTANT: Execute every step in order, top to bottom**

### Task Group 1: Install Border Beam Component

<!-- prettier-ignore -->
- [ ] install-border-beam Install Border Beam component via Magic UI CLI
  - Run from `apps/web/` directory: `pnpm dlx shadcn@latest add "https://magicui.design/r/border-beam"`
  - Expected: Component file created at `apps/web/src/client/components/ui/border-beam.tsx`
  - Expected: CLI output confirms successful installation
  - Verify the component file exists and contains the BorderBeam export

#### Completion Notes

(This will be filled in by the agent implementing this task group)

### Task Group 2: Integrate Border Beam into AuthFormCard

<!-- prettier-ignore -->
- [ ] import-border-beam Add import statement for Border Beam component
  - File: `apps/web/src/client/pages/auth/components/AuthFormCard.tsx`
  - Add at top of file: `import { BorderBeam } from '@/client/components/ui/border-beam';`

- [ ] wrap-card-component Wrap Card component with relative positioned container
  - File: `apps/web/src/client/pages/auth/components/AuthFormCard.tsx`
  - Replace the `<Card>` wrapper with a `<div className="relative overflow-hidden">` container
  - Add `<BorderBeam />` as first child within the wrapper
  - Keep `<Card>` and all its children unchanged
  - Structure should be: `<div relative> → <BorderBeam /> + <Card> → CardHeader/CardContent → children </Card> </div>`

- [ ] verify-no-layout-shift Test that existing layout and spacing are preserved
  - Start dev server: `pnpm dev` from `apps/web/`
  - Navigate to http://localhost:5173/login
  - Verify card dimensions, padding, and spacing match the original
  - Verify no content overflow or clipping
  - Check signup page as well: http://localhost:5173/signup

#### Completion Notes

(This will be filled in by the agent implementing this task group)

### Task Group 3: Visual Verification

<!-- prettier-ignore -->
- [ ] verify-animation Verify Border Beam animation on both auth pages
  - Navigate to login page: http://localhost:5173/login
  - Observe animated light beam traveling along card border
  - Verify animation is smooth and continuous
  - Navigate to signup page: http://localhost:5173/signup
  - Verify same effect appears consistently
  - Test on different viewport sizes (mobile, tablet, desktop)

- [ ] verify-responsiveness Test responsive behavior across screen sizes
  - Use browser DevTools to test mobile (375px), tablet (768px), and desktop (1440px) viewports
  - Verify Border Beam scales appropriately with card size
  - Verify no visual glitches or overflow issues
  - Test in both light and dark mode if theme toggle exists

- [ ] verify-interaction Ensure no interference with form interactions
  - Fill out login form fields
  - Submit form and verify normal behavior
  - Test focus states on inputs
  - Verify error messages display correctly
  - Test keyboard navigation (Tab key)
  - Verify all existing functionality remains intact

#### Completion Notes

(This will be filled in by the agent implementing this task group)

## Testing Strategy

### Unit Tests

No unit tests required for this feature as it's purely visual enhancement with no business logic changes.

### Visual Regression Testing

**Manual Visual Testing**:
- Compare login page before/after on multiple screen sizes
- Verify Border Beam appears consistently on both login and signup
- Check animation smoothness at 60fps
- Test in Chrome, Firefox, and Safari

### Accessibility Testing

**Manual Accessibility Checks**:
- Verify Border Beam doesn't interfere with screen readers
- Ensure animation respects `prefers-reduced-motion` media query
- Verify focus states remain visible and clear
- Test keyboard navigation still works correctly

## Success Criteria

- [ ] Border Beam component successfully installed in `components/ui/` directory
- [ ] Border Beam appears on login page with animated effect
- [ ] Border Beam appears on signup page with animated effect
- [ ] Animation is smooth and continuous (no jank or stuttering)
- [ ] Card layout and spacing remain unchanged from original
- [ ] Form fields remain fully functional and interactive
- [ ] No console errors or warnings in browser DevTools
- [ ] Component works across desktop, tablet, and mobile viewports
- [ ] Animation respects user's motion preferences (`prefers-reduced-motion`)
- [ ] All existing tests continue to pass

## Validation

Execute these commands to verify the feature works correctly:

**Automated Verification:**

```bash
# Build verification
cd apps/web && pnpm build
# Expected: Successful build with no errors

# Type checking
pnpm check-types
# Expected: No TypeScript errors

# Linting
pnpm lint
# Expected: No linting errors

# Unit tests (if any exist for auth components)
pnpm test
# Expected: All tests pass
```

**Manual Verification:**

1. Start application: `cd apps/web && pnpm dev`
2. Navigate to: http://localhost:5173/login
3. Verify: Animated light beam travels smoothly along the card border
4. Test interaction: Fill out form, verify no interference with inputs
5. Navigate to: http://localhost:5173/signup
6. Verify: Same Border Beam effect appears consistently
7. Test responsive: Resize browser window, verify effect scales appropriately
8. Check console: No errors or warnings in browser DevTools

**Feature-Specific Checks:**

- Open browser DevTools > Elements and inspect the Card wrapper to confirm `<div class="relative overflow-hidden">` exists
- Verify BorderBeam component is rendered as a child element
- Test with DevTools Performance tab to ensure no significant performance impact
- Test with `prefers-reduced-motion` enabled in browser settings (animation should respect this)
- Check that Border Beam uses GPU-accelerated transforms (inspect computed styles)

## Implementation Notes

### 1. Motion Dependency

Border Beam uses the `motion` package (Framer Motion) for animations, which is already installed as a dependency in the web app's `package.json`. No additional dependencies are required.

### 2. Performance Considerations

Border Beam uses GPU-accelerated CSS transforms and Framer Motion's optimized animation engine. The performance impact should be negligible on modern devices. However, it automatically respects the user's `prefers-reduced-motion` setting to ensure accessibility.

### 3. Customization Options

Border Beam accepts several props for customization (if needed in the future):
- `size`: Width/height of the beam (default: 200)
- `duration`: Animation duration in seconds (default: 15)
- `delay`: Delay before animation starts (default: 0)
- `colorFrom`: Starting gradient color (default: theme-based)
- `colorTo`: Ending gradient color (default: theme-based)

For this implementation, use the default props initially. Customization can be added later if design requirements change.

### 4. Magic UI and shadcn/ui Compatibility

Magic UI components are designed to work seamlessly with shadcn/ui. They follow the same conventions for styling, theming, and component structure. The Border Beam component will automatically inherit the app's existing theme colors and design tokens.

## Dependencies

- `motion` (already installed in package.json v12.23.24)
- No new dependencies required

## Timeline

| Task                        | Estimated Time |
| --------------------------- | -------------- |
| Install Border Beam         | 5 minutes      |
| Integrate into AuthFormCard | 15 minutes     |
| Visual Verification         | 30 minutes     |
| **Total**                   | **1 hour**     |

## References

- [Magic UI Border Beam Documentation](https://magicui.design/docs/components/border-beam)
- [Magic UI Installation Guide](https://magicui.design/docs/installation)
- [Framer Motion Documentation](https://www.framer.com/motion/)
- [shadcn/ui Documentation](https://ui.shadcn.com)

## Next Steps

1. Run `/implement-spec 34` to execute the implementation
2. Verify Border Beam appears correctly on both auth pages
3. Test across multiple browsers and devices
4. Consider adding Border Beam to other card-based components if desired (e.g., project cards, dashboard widgets)
5. Document the Border Beam component usage in the project's component library documentation (if applicable)
