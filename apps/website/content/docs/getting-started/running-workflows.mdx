---
title: Running Workflows
description: Understanding workflow runs, tasks, and git workspaces
---

import { Callout } from 'fumadocs-ui/components/callout';

Learn how the pieces fit together when creating a workflow run.

<Callout type="info">
New to workflows? Start with [Workflow Concepts](/docs/getting-started/workflow-concepts) to understand specs and workflows first.
</Callout>

## Workflow

A **workflow run** executes a workflow with a spec in a git workspace.

When you create a workflow run, the system determines which workflow to execute based on **spec type**:

- **Feature spec** → `implement-feature.ts`
- **Bug spec** → `fix-bug.ts`
- **Issue spec** → `resolve-issue.ts`

The system looks for these files in `.agent/workflows/definitions/`. If the workflow doesn't exist, you'll see an error.

## Task

The **task** is the spec - what needs to be built. There are three ways to provide it:

### Spec File

Select an existing spec from `.agent/specs/todo/` or `.agent/specs/in-progress/`.

**Use when:** You already have a spec ready to implement.

### From Planning Session

Select a planning session and agentcmd will:
1. Resume the AI session
2. Generate a spec from the planning context
3. Execute the workflow with that spec

**Use when:** You ran a planning session and want to implement it.

**What's a planning session?** A read-only AI conversation that explores your codebase. See [Planning Sessions](/docs/concepts/planning-sessions).

### Write It

Write markdown describing what you want. Agentcmd will:
1. Expand it into a full spec
2. Execute the workflow with that spec

**Use when:** You have clear requirements and want quick implementation.

**Example:**
```markdown
# Add CSV Export

Add export to CSV button on the users table.
Should include all visible columns and respect filters.
```

### The Result

All three approaches create a spec. The workflow doesn't care which method created it.

## Git Workspace

The **git workspace** determines where changes happen.

### Branch

Creates a new git branch for the work.

- Isolated from current branch
- Easy to review and rollback
- Requires branch switching

**Best for:** Most workflows.

### Worktree

Creates a git worktree in a separate directory.

- No branch switching
- Run multiple workflows simultaneously
- Requires cleanup

**Best for:** Running concurrent workflows.

### Stay

Works in your current branch.

- No overhead
- Changes mix with your work
- Hard to separate AI changes

**Best for:** Quick fixes in active branch.

## How It Works

When you create a workflow run:

1. **Task** provides the spec (from file, planning, or markdown)
2. **Spec type** determines the workflow file to execute
3. **Git workspace** determines where changes happen
4. Workflow executes, making commits in the chosen workspace

**Example:**

Planning session "OAuth Implementation" + Feature spec + Branch mode

**Result:**
- Generates feature spec from planning
- Executes `implement-feature.ts`
- Creates branch, commits changes, returns to original branch

## Next Steps

- [Workflow Concepts](/docs/getting-started/workflow-concepts) - Understand specs and workflows
- [Planning Sessions](/docs/concepts/planning-sessions) - Creating planning sessions
- [Specs](/docs/concepts/specs) - Spec structure and usage
