---
title: Custom Slash Commands
description: Create reusable slash commands for common workflow operations
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tabs, Tab } from 'fumadocs-ui/components/tabs';
import { AgentCmd } from '@/components/AgentCmd';

Create custom slash commands that encapsulate common operations, making workflows more maintainable and reusable across your team.

## Overview

Slash commands are markdown files in `.claude/commands/` that define reusable workflows. <AgentCmd /> automatically discovers and loads these commands.

**Benefits**:
- Consistent operations across team
- Reduced duplication
- Easy to share and version control
- Self-documenting workflows

## Simple Example

### Creating a Command

Create `.claude/commands/greet.md`:

```markdown
Greet the user with their name and the current time.

Arguments:
- name (string): User's name
```

### Using the Command

```bash
/greet "Alice"
```

**Output**:
```
Hello Alice! The current time is 3:45 PM.
```

## Focused Example: PR Analysis

Create a command that analyzes pull requests.

### Command Definition

`.claude/commands/analyze-pr.md`:

```markdown
Analyze a pull request and provide detailed feedback.

Arguments:
- pr_number (number): Pull request number to analyze

Tasks:
1. Fetch PR details using GitHub CLI
2. Analyze code changes
3. Check for common issues
4. Generate feedback report

Output a JSON object with:
- summary: Brief overview
- issues: Array of found issues
- recommendations: Array of suggestions
```

### Implementation

The command automatically:
1. Validates PR exists
2. Analyzes diff and files
3. Checks for best practices
4. Generates structured report

### Usage

```bash
# Analyze PR #123
/analyze-pr 123
```

## Production Example: Component Generator

Create a workflow that generates React components with tests and documentation.

### Command File

`.claude/commands/gen-component.md`:

```markdown
Generate a complete React component with tests, stories, and documentation.

Arguments:
- name (string): Component name (PascalCase)
- variant (string): Component type (page|ui|form)
- features (string, optional): Comma-separated features

Steps:
1. Validate component name and check for conflicts
2. Generate component file with TypeScript
3. Generate test file with vitest
4. Generate Storybook story
5. Add to component index
6. Run linter and formatter

Output:
- componentPath: Path to created component
- testPath: Path to test file
- storyPath: Path to story file
```

### Workflow Integration

The command can be integrated into a larger workflow:

```typescript
import { defineWorkflow } from "agentcmd-workflows";

export const featureWorkflow = defineWorkflow({
  id: "feature-with-component",
  name: "Feature with Component Generation",
  phases: [
    {
      name: "Component",
      steps: [
        {
          type: "cli",
          command: "/gen-component UserProfile ui --features=avatar,bio",
        },
      ],
    },
    {
      name: "Implementation",
      steps: [
        {
          type: "agent",
          instruction: "Implement UserProfile component logic",
        },
      ],
    },
  ],
});
```

## Command Format

### Basic Structure

```markdown
[One-line description]

[Detailed instructions for the AI agent]

Arguments:
- arg1 (type): Description
- arg2 (type, optional): Description

[Optional sections: Tasks, Output format, Examples]
```

### Argument Types

Supported types:
- `string` - Text values
- `number` - Numeric values
- `boolean` - true/false
- `array` - Lists of values
- `object` - Structured data

### Optional Sections

**Tasks**:
```markdown
Tasks:
1. First task
2. Second task
3. Third task
```

**Output Format**:
```markdown
Output:
- field1: Description
- field2: Description
```

**Examples**:
```markdown
Examples:
/my-command arg1 arg2
/my-command --option value
```

## Best Practices

### Naming Conventions

```bash
# ✅ Good - descriptive, kebab-case
/analyze-pr
/generate-component
/review-code

# ❌ Avoid - unclear, inconsistent
/do-stuff
/GenComponent
/pr
```

### Clear Instructions

```markdown
# ✅ Good - specific and actionable
Analyze the pull request for security vulnerabilities. Check for:
1. SQL injection risks
2. XSS vulnerabilities
3. Exposed secrets
4. Unsafe dependencies

# ❌ Avoid - vague
Analyze the PR.
```

### Document Expected Output

```markdown
# ✅ Good - structured output format
Output a JSON object with:
- score (number): Security score 0-100
- issues (array): Found vulnerabilities
- severity (string): overall|high|medium|low

# ❌ Avoid - no format
Return the results.
```

## Advanced Patterns

### Chaining Commands

Commands can call other commands:

```markdown
/analyze-pr 123
/generate-fixes
/create-pr-comment
```

### Conditional Logic

Commands can include conditional instructions:

```markdown
If the PR has failing tests:
1. Analyze test failures
2. Suggest fixes
3. Generate patch

Otherwise:
1. Approve PR
2. Add LGTM comment
```

### Error Handling

Include error handling instructions:

```markdown
Error Handling:
- If PR not found: Return error with PR number
- If API rate limited: Wait and retry up to 3 times
- If analysis fails: Return partial results with error flag
```

## Testing Commands

Test commands before committing:

```bash
# Test with various inputs
/my-command test-value
/my-command --option value
/my-command "complex value"

# Check error cases
/my-command invalid-input
/my-command
```

## Common Use Cases

### Code Review

```markdown
# .claude/commands/review-code.md
Review code changes in the current branch.

Check for:
1. Code quality and style
2. Potential bugs
3. Performance issues
4. Security concerns
5. Test coverage

Output detailed review with line-specific comments.
```

### Documentation

```markdown
# .claude/commands/update-docs.md
Update documentation to match current code.

Steps:
1. Analyze code changes since last doc update
2. Identify outdated documentation
3. Generate updated documentation
4. Update API reference
5. Add changelog entry
```

### Testing

```markdown
# .claude/commands/test-feature.md
Generate comprehensive tests for a feature.

Arguments:
- feature_file (string): Path to feature file

Generate:
1. Unit tests for all functions
2. Integration tests for workflows
3. Edge case tests
4. Performance tests
```

## Troubleshooting

### Command Not Found

```bash
# Check command file exists
ls .claude/commands/my-command.md

# Verify file name matches command
# /my-command needs my-command.md
```

### Arguments Not Parsed

```markdown
# ✅ Correct format
Arguments:
- name (string): Description

# ❌ Incorrect
Arguments: name string
```

### Command Fails

Check:
1. Instructions are clear and specific
2. Required tools/APIs are available
3. Arguments are validated
4. Error handling is included

## Related

- [Slash Commands Reference](/reference/slash-commands) - Built-in commands
- [Workflow Definition](/guides/workflow-definition) - Create workflows
- [Basic Automation](/examples/basic-automation) - Workflow examples
- [Spec Implementation](/examples/spec-implementation) - Spec-driven development
